!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@floating-ui/react-dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","@floating-ui/react-dom","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIReactDOM={},e.React,e.FloatingUIReactDOM,e.ReactDOM)}(this,(function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var c=u(t),i=o(t),l="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function a(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}let s=!1,f=0;const d=()=>"floating-ui-"+f++;const v=c["useId".toString()],g=null!=v?v:function(){const[e,t]=c.useState((()=>s?d():void 0));return l((()=>{null==e&&t(d())}),[]),c.useEffect((()=>{s||(s=!0)}),[]),e},p=t.createContext(null),m=t.createContext(null),y=()=>{var e,n;return null!=(e=null==(n=t.useContext(p))?void 0:n.id)?e:null},b=()=>t.useContext(m);function h(e){return Object.entries(null!=e?e:{}).reduce(((e,t)=>{let[n,r]=t;return e[n]=[r],e}),{})}function E(e,t,n){const r={reference:"reference"===n?h(e):{},floating:"floating"===n?h(e):{},item:"item"===n?h(e):{}};return t.forEach((e=>{var t;const o=null!=(t=e&&e[n])?t:{};Object.keys(o).forEach((e=>{var t;"function"==typeof o[e]&&(null==r[n][e]&&(r[n][e]=[]),null==(t=r[n][e])||t.push(o[e]))}))})),{..."floating"===n&&{tabIndex:-1},...e,...t.reduce(((e,t)=>(t&&Object.assign(e,t[n]),e)),{}),...Object.entries(r[n]).reduce(((e,t)=>{let[n,r]=t;return 0===n.indexOf("on")&&(e[n]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach((e=>e(...t)))}),e}),{})}}var w={exports:{}},x=function(e,t,n,r){var o=e[0],u=e[1],c=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=(r-n)/2,l=0,a=i-1;l<i;a=l++){var s=t[n+2*l+0],f=t[n+2*l+1],d=t[n+2*a+0],v=t[n+2*a+1];f>u!=v>u&&o<(d-s)*(u-f)/(v-f)+s&&(c=!c)}return c},R=function(e,t,n,r){var o=e[0],u=e[1],c=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=r-n,l=0,a=i-1;l<i;a=l++){var s=t[l+n][0],f=t[l+n][1],d=t[a+n][0],v=t[a+n][1];f>u!=v>u&&o<(d-s)*(u-f)/(v-f)+s&&(c=!c)}return c};w.exports=function(e,t,n,r){return t.length>0&&Array.isArray(t[0])?R(e,t,n,r):x(e,t,n,r)},w.exports.nested=R,w.exports.flat=x;var k=w.exports;function O(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function C(e){var t;return null!=(t=O(e).defaultView)?t:window}function I(e){return!!e&&e instanceof C(e).Element}function T(e){return!!e&&e instanceof C(e).HTMLElement}function L(e,t){var n;let r=null!=(n=null==e?void 0:e.nodesRef.current.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})))?n:[],o=r;for(;o.length;){var u;o=null!=(u=null==e?void 0:e.nodesRef.current.filter((e=>{var t;return null==(t=o)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})))?u:[],r=r.concat(o)}return r}const A="floating-ui-root";function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}const M="data-floating-ui-scroll-lock",P=t.forwardRef((function(e,t){let{lockScroll:n=!1,...r}=e;return l((()=>{if(!n)return;const e=window.pageXOffset,t=window.pageYOffset,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth;return document.body.hasAttribute(M)?void 0:(Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:"-"+t+"px",left:"-"+e+"px",right:"0",[r]:o+"px"}),document.body.setAttribute(M,""),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[r]:""}),document.body.removeAttribute(M),window.scrollTo(e,t)})}),[n]),i.default.createElement("div",D({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));function j(e){const n=t.useRef(e);return l((()=>{n.current=e})),n}function F(e,t,n){return n&&"mouse"!==n?0:"number"==typeof e?e:null==e?void 0:e[t]}const N=t.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),S=()=>t.useContext(N);var B=new WeakMap,W=new WeakMap,K={},q=0,H=function(e,t,n){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];K[n]||(K[n]=new WeakMap);var o=K[n],u=[],c=new Set,i=function(e){e&&!c.has(e)&&(c.add(e),i(e.parentNode))};r.forEach(i);var l=function(e){!e||r.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(c.has(e))l(e);else{var t=e.getAttribute("aria-hidden"),r=null!==t&&"false"!==t,i=(B.get(e)||0)+1,a=(o.get(e)||0)+1;B.set(e,i),o.set(e,a),u.push(e),1===i&&r&&W.set(e,!0),1===a&&e.setAttribute(n,"true"),r||e.setAttribute("aria-hidden","true")}}))};return l(t),c.clear(),q++,function(){u.forEach((function(e){var t=B.get(e)-1,r=o.get(e)-1;B.set(e,t),o.set(e,r),t||(W.has(e)||e.removeAttribute("aria-hidden"),W.delete(e)),r||e.removeAttribute(n)})),--q||(B=new WeakMap,B=new WeakMap,W=new WeakMap,K={})}};function V(e){e.preventDefault(),e.stopPropagation()}const _=["content"];function U(e){requestAnimationFrame((()=>{null==e||e.focus()}))}const G="ArrowUp",X="ArrowDown",Y="ArrowLeft",z="ArrowRight";function J(e,t){let{startingIndex:n=-1,decrement:r=!1}=void 0===t?{}:t;const o=ne(e);let u=n;do{var c,i;u+=r?-1:1}while(null!=(c=o[u])&&c.hasAttribute("disabled")||"true"===(null==(i=o[u])?void 0:i.getAttribute("aria-disabled")));return-1===u?0:u}function Q(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Z(e,t){return Q(t,e===G||e===X,e===Y||e===z)}function $(e,t,n){return Q(t,e===X,n?e===Y:e===z)}function ee(e){return J(e)}function te(e){return J(e,{decrement:!0,startingIndex:ne(e).length})}function ne(e){return e.current.filter((e=>null!=e))}e.FloatingDelayGroup=e=>{let{children:n,delay:r}=e;const[o,u]=t.useState({delay:r,initialDelay:r,currentId:null}),c=t.useCallback((e=>{u((t=>({...t,currentId:e})))}),[]);return i.default.createElement(N.Provider,{value:t.useMemo((()=>({...o,setState:u,setCurrentId:c})),[o,u,c])},n)},e.FloatingNode=e=>{let{children:n,id:r}=e;const o=y();return i.default.createElement(p.Provider,{value:t.useMemo((()=>({id:r,parentId:o})),[r,o])},n)},e.FloatingOverlay=P,e.FloatingPortal=e=>{let{children:n,id:o=A}=e;const[u,c]=t.useState(!1),i=t.useRef(null);return l((()=>{const e=document.getElementById(o);e?i.current=e:(i.current=document.createElement("div"),i.current.id=o);const t=i.current;document.body.contains(t)||document.body.appendChild(t),c(!0)}),[o]),u&&i.current?r.createPortal(n,i.current):null},e.FloatingTree=e=>{let{children:n}=e;const r=t.useRef([]),o=t.useCallback((e=>{r.current=[...r.current,e]}),[]),u=t.useCallback((e=>{r.current=r.current.filter((t=>t!==e))}),[]),c=t.useState((()=>a()))[0];return i.default.createElement(m.Provider,{value:t.useMemo((()=>({nodesRef:r,addNode:o,removeNode:u,events:c})),[r,o,u,c])},n)},e.safePolygon=function(e){let t,{timeout:n=0,debug:r=null}=void 0===e?{}:e;return e=>{let{x:o,y:u,placement:c,refs:i,onClose:l,nodeId:a,tree:s}=e;return function(e){var f;if("touch"===e.pointerType)return;const{target:d,clientX:v,clientY:g}=e,p=d;if("pointermove"===e.type&&I(i.reference.current)&&i.reference.current.contains(p)||null!=(f=i.floating.current)&&f.contains(p))return;if(s&&L(s,a).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if(!i.reference.current||!i.floating.current||null==c||null==o||null==u)return;const m=i.reference.current.getBoundingClientRect(),y=i.floating.current.getBoundingClientRect(),b=c.split("-")[0],h=o>y.right-y.width/2,E=u>y.bottom-y.height/2;switch(b){case"top":if(v>=y.left&&v<=y.right&&g>=y.bottom&&g<=m.top)return;break;case"bottom":if(v>=y.left&&v<=y.right&&g>=m.bottom&&g<=y.top)return;break;case"left":if(v>=y.right&&v<=m.left&&g>=y.left&&g<=y.right)return;break;case"right":if(v>=y.right&&v<=m.left&&g>=y.right&&g<=m.left)return}function w(e){let[t,n]=e;const r=y.width>m.width,o=y.height>m.height;switch(b){case"top":{const e=[r?t:h?t+1:t-1,n+1],o=[r?t:h?t-1:t+1,n+1],u=[[y.left,h||r?y.bottom-1:y.top],[y.right,h?r?y.bottom-1:y.top:y.bottom-1]];return h?[e,o,...u]:[e,...u,o]}case"bottom":{const e=[r?t:h?t+1:t-1,n-1],o=[r?t:h?t-1:t+1,n-1],u=[[y.left,h||r?y.top+1:y.bottom],[y.right,h?r?y.top+1:y.bottom:y.top+1]];return h?[e,o,...u]:[e,...u,o]}case"left":{const e=[t+1,o?n:E?n-1:n+1],r=[t+1,o?n:E?n+1:n-1],u=[[E||o?y.right-1:y.left,y.top],[E?o?y.right-1:y.left:y.right-1,y.bottom]];return E?[e,...u,r]:[...u,e,r]}case"right":{const e=[t-1,o?n:E?n+1:n-1],r=[t-1,o?n:E?n-1:n+1],u=[[E||o?y.left+1:y.right,y.top],[E?o?y.left+1:y.right:y.left+1,y.bottom]];return E?[e,r,...u]:[e,...u,r]}}}const x=w([o,u]);"production"!==process.env.NODE_ENV&&(null==r||r(w([o,u]).slice(0,4).join(", "))),k([v,g],x)?n&&(t=setTimeout(l,n)):(clearTimeout(t),l())}}},e.useClick=function(e,n){let{open:r,onOpenChange:o,dataRef:u}=e,{enabled:c=!0,pointerDown:i=!1}=void 0===n?{}:n;const l=t.useRef();return c?{reference:{...i&&{onPointerDown(e){var t;(l.current=e.pointerType,r)?"pointerdown"===(null==(t=u.current.openEvent)?void 0:t.type)&&o(!1):o(!0);u.current.openEvent=e.nativeEvent}},onClick(e){if(i&&l.current)l.current=void 0;else{var t;if(r)"click"===(null==(t=u.current.openEvent)?void 0:t.type)&&o(!1);else o(!0);u.current.openEvent=e.nativeEvent}}}}:{}},e.useDelayGroup=(e,n)=>{let{open:r,onOpenChange:o}=e,{id:u}=n;const{currentId:c,initialDelay:i,setState:l}=S();t.useEffect((()=>{c&&o&&(l((e=>({...e,delay:{open:0,close:F(i,"close")}}))),c!==u&&o(!1))}),[u,o,l,c,i]),t.useEffect((()=>{!r&&c===u&&o&&(o(!1),l((e=>({...e,delay:i,currentId:null}))))}),[r,l,c,u,o,i])},e.useDelayGroupContext=S,e.useDismiss=function(e,r){let{open:o,onOpenChange:u,refs:c,events:i,nodeId:l}=e,{enabled:a=!0,escapeKey:s=!0,outsidePointerDown:f=!0,referencePointerDown:d=!1,ancestorScroll:v=!1,bubbles:g=!0}=void 0===r?{}:r;const p=b(),m=j(u),y=t.useCallback((()=>{var e;return null==(e=c.floating.current)?void 0:e.contains(O(c.floating.current).activeElement)}),[c.floating]),h=t.useCallback((()=>{T(c.reference.current)&&c.reference.current.focus()}),[c.reference]);return t.useEffect((()=>{if(!o||!a)return;function e(e){if("Escape"===e.key){if(!g&&!y())return;i.emit("dismiss"),m.current(!1),h()}}function t(e){var t;const n=p&&L(p,l).some((t=>{var n,r;return null==(n=t.context)||null==(r=n.refs.floating.current)?void 0:r.contains(e.target)}));null!=(t=c.floating.current)&&t.contains(e.target)||I(c.reference.current)&&c.reference.current.contains(e.target)||n||(g||y())&&(i.emit("dismiss"),m.current(!1),h())}function r(){m.current(!1)}const u=O(c.floating.current);s&&u.addEventListener("keydown",e),f&&u.addEventListener("mousedown",t);const d=(v?[...I(c.reference.current)?n.getOverflowAncestors(c.reference.current):[],...I(c.floating.current)?n.getOverflowAncestors(c.floating.current):[]]:[]).filter((e=>{var t;return e!==(null==(t=u.defaultView)?void 0:t.visualViewport)}));return d.forEach((e=>e.addEventListener("scroll",r,{passive:!0}))),()=>{s&&u.removeEventListener("keydown",e),f&&u.removeEventListener("mousedown",t),d.forEach((e=>e.removeEventListener("scroll",r)))}}),[s,f,i,p,l,o,m,h,v,a,g,y,c.floating,c.reference]),a?{reference:{onPointerDown(){d&&(i.emit("dismiss"),u(!1))}}}:{}},e.useFloating=function(e){let{open:r=!1,onOpenChange:o=(()=>{}),placement:u,middleware:c,strategy:i,nodeId:s}=void 0===e?{}:e;const f=b(),d=t.useRef({}),v=t.useState((()=>a()))[0],g=n.useFloating({placement:u,middleware:c,strategy:i}),p=t.useMemo((()=>({...g,dataRef:d,nodeId:s,events:v,open:r,onOpenChange:o})),[g,d,s,v,r,o]);return l((()=>{const e=null==f?void 0:f.nodesRef.current.find((e=>e.id===s));e&&(e.context=p)})),t.useMemo((()=>({context:p,...g})),[g,p])},e.useFloatingNodeId=()=>{const e=g(),t=b(),n=y();return l((()=>{const r={id:e,parentId:n};return null==t||t.addNode(r),()=>{null==t||t.removeNode(r)}}),[t,e,n]),e},e.useFloatingParentNodeId=y,e.useFloatingTree=b,e.useFocus=function(e,n){let{open:r,onOpenChange:o,dataRef:u,refs:c,events:i}=e,{enabled:l=!0,keyboardOnly:a=!0}=void 0===n?{}:n;const s=t.useRef(!1);return t.useEffect((()=>{var e;if(!l)return;const t=null!=(e=O(c.floating.current).defaultView)?e:window;function n(){s.current=!r}function o(){setTimeout((()=>{s.current=!1}))}return t.addEventListener("focus",o),t.addEventListener("blur",n),()=>{t.removeEventListener("focus",o),t.removeEventListener("blur",n)}}),[c.floating,r,l]),t.useEffect((()=>{if(l)return i.on("dismiss",e),()=>{i.off("dismiss",e)};function e(){s.current=!0}}),[i,l]),l?{reference:{onPointerDown(e){let{pointerType:t}=e;s.current=!(!t||!a)},onFocus(e){var t,n,r;s.current||"focus"===e.type&&"mousedown"===(null==(t=u.current.openEvent)?void 0:t.type)&&I(c.reference.current)&&null!=(n=c.reference.current)&&n.contains(null==(r=u.current.openEvent)?void 0:r.target)||(u.current.openEvent=e.nativeEvent,o(!0))},onBlur(e){var t;const n=e.relatedTarget;null!=(t=c.floating.current)&&t.contains(n)||I(c.reference.current)&&c.reference.current.contains(n)||(s.current=!1,o(!1))}}}:{}},e.useFocusTrap=function(e,n){let{open:r,onOpenChange:o,refs:u}=e,{enabled:c=!0,initialContentFocus:i=0,order:a=_,modal:s=!0,inert:f=!1}=void 0===n?{}:n;const d=t.useRef(!1),v=t.useRef(null),g=t.useRef(null),p=j(s),m=j(a),y=t.useCallback((()=>m.current.map((e=>{return T(u.reference.current)&&"reference"===e?u.reference.current:u.floating.current&&"floating"===e?u.floating.current:"content"===e?Array.from(null!=(t=null==(n=u.floating.current)?void 0:n.querySelectorAll("a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,*[tabindex],*[contenteditable]"))?t:[]):null;var t,n})).filter(Boolean).flat()),[u.floating,u.reference]);function b(e){var t;const n=e.relatedTarget;null!=(t=u.floating.current)&&t.contains(n)||!I(u.reference.current)||u.reference.current.contains(n)||o(!1)}return l((()=>{const e=u.floating.current;if(!(c&&r&&e&&s))return;function t(){const t=O(e).createElement("div");return t.tabIndex=0,Object.assign(t.style,{position:"fixed",outline:"0",pointerEvents:"none"}),t.setAttribute("aria-hidden","true"),t}v.current||(v.current=t()),g.current||(g.current=t());const n=v.current,o=g.current;function i(e){var t;V(e);const n=y();null==(t=n[e.target===o?0:n.length-1])||t.focus()}return e.insertAdjacentElement("beforebegin",n),e.insertAdjacentElement("afterend",o),n.addEventListener("focus",i),o.addEventListener("focus",i),()=>{var e,t;n.removeEventListener("focus",i),o.removeEventListener("focus",i),null!=(e=n.parentNode)&&e.contains(n)&&n.parentNode.removeChild(n),null!=(t=o.parentNode)&&t.contains(o)&&o.parentNode.removeChild(o)}}),[c,r,s,f,y,u.floating]),t.useEffect((()=>{if(!c||!r||!f)return;function e(e){"Tab"===e.key&&V(e)}const t=O(u.floating.current);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[c,r,f,u.floating]),t.useEffect((()=>{if(!c)return;const e=y();if(f){if(r){const t=e[0];t!==u.floating.current||t.contains(t.ownerDocument.activeElement)||U(t)}}else r&&("number"==typeof i?U(e[i]):i.current&&U(e.find((e=>e===i.current))))}),[y,r,f,s,i,c,u.reference,u.floating]),t.useEffect((()=>{c&&!f&&!r&&p.current&&d.current&&T(u.reference.current)&&U(u.reference.current)}),[r,c,f,p,u.reference]),t.useEffect((()=>{if(r&&s&&c&&u.floating.current)return H(u.floating.current)}),[r,s,c,u.floating]),t.useEffect((()=>(d.current=!0,()=>{d.current=!1})),[]),c?s?{floating:{"aria-modal":"true"}}:{reference:{onBlur:b},floating:{onBlur:b}}:{}},e.useHover=function(e,n){let{enabled:r=!0,delay:o=0,handleClose:u=null,mouseOnly:c=!1,restMs:i=0}=void 0===n?{}:n;const{open:a,onOpenChange:s,dataRef:f,events:d,refs:v}=e,g=b(),p=j(s),m=j(u),y=t.useRef(),h=t.useRef(),E=t.useRef(),w=t.useRef(),x=t.useRef(!0);l((()=>{r&&(a||(y.current=void 0))})),t.useEffect((()=>{if(r)return d.on("dismiss",e),()=>{d.off("dismiss",e)};function e(){clearTimeout(h.current),clearTimeout(w.current),x.current=!0}}),[r,d,v.floating]),t.useEffect((()=>{if(!r||!m.current)return;function e(){var e;null!=(e=f.current.openEvent)&&e.type.includes("mouse")&&p.current(!1)}const t=O(v.floating.current).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[v.floating,p,r,m,f]);const R=t.useCallback((function(e){void 0===e&&(e=!0),o?(clearTimeout(h.current),h.current=setTimeout((()=>p.current(!1)),F(o,"close",y.current))):e&&p.current(!1)}),[o,p]);if(t.useEffect((()=>{!a&&r&&E.current&&O(v.floating.current).removeEventListener("pointermove",E.current)}),[a,r,v.floating]),t.useEffect((()=>{if(!r)return;function t(e){clearTimeout(h.current),a||c&&"mouse"!==y.current||(x.current=!1,f.current.openEvent=e,o?h.current=setTimeout((()=>{p.current(!0)}),F(o,"open",y.current)):p.current(!0))}function n(t){var n,r;if("click"===(null==(n=f.current.openEvent)?void 0:n.type)||"pointerdown"===(null==(r=f.current.openEvent)?void 0:r.type))return;const o=O(v.floating.current);if(clearTimeout(w.current),m.current)return clearTimeout(h.current),E.current&&o.removeEventListener("pointermove",E.current),E.current=m.current({...e,tree:g,x:t.clientX,y:t.clientY,onClose:R}),void o.addEventListener("pointermove",E.current);R()}const u=v.reference.current;return I(u)?(u.addEventListener("mouseenter",t),u.addEventListener("mouseleave",n),()=>{u.removeEventListener("mouseenter",t),u.removeEventListener("mouseleave",n)}):void 0}),[r,R,e,o,m,f,c,p,a,g,v.reference,v.floating]),!r)return{};function k(e){y.current=e.pointerType}return{reference:{onPointerDown:k,onPointerEnter:k,onMouseMove(){a||0===i||(clearTimeout(w.current),w.current=setTimeout((()=>{x.current||s(!0)}),i))}},floating:{onMouseEnter(){clearTimeout(h.current)},onMouseLeave:()=>R(!1)}}},e.useId=g,e.useInteractions=function(e){return void 0===e&&(e=[]),{getReferenceProps:t=>E(t,e,"reference"),getFloatingProps:t=>E(t,e,"floating"),getItemProps:t=>E(t,e,"item")}},e.useListNavigation=function(e,n){let{open:r,onOpenChange:o,refs:u}=e,{listRef:c,activeIndex:i,onNavigate:a,enabled:s=!0,selectedIndex:f=null,loop:d=!1,nested:v=!1,rtl:g=!1,virtual:p=!1,focusItemOnOpen:m="auto",focusItemOnHover:h=!0,orientation:E="vertical"}=void 0===n?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:n;const w=y(),x=b(),R=t.useRef(m),k=t.useRef(null!=f?f:-1),O=t.useRef(""),C=t.useRef(!1),I=j(a),L=t.useRef(!1),[A,D]=t.useState(),M=t.useCallback(((e,t)=>{var n,r;p?D(null==(n=ne(e)[t.current])?void 0:n.id):null==(r=ne(e)[t.current])||r.focus({preventScroll:!0})}),[p]);function P(e){"auto"===m&&(R.current=!e.pointerType)}function F(e){if(L.current=!0,v&&function(e,t,n){return Q(t,n?e===z:e===Y,e===G)}(e.key,E,g))return V(e),o(!1),void(T(u.reference.current)&&u.reference.current.focus());const t=k.current,n=ee(c),r=te(c);if("Home"===e.key&&(k.current=n,a(k.current)),"End"===e.key&&(k.current=r,a(k.current)),Z(e.key,E)){if(V(e),!p&&e.currentTarget.ownerDocument.activeElement===e.currentTarget)return k.current=null!=f?f:$(e.key,E,g)?n:r,void a(k.current);$(e.key,E,g)?k.current=d?t>=r?n:J(c,{startingIndex:t}):Math.min(r,J(c,{startingIndex:t})):k.current=d?t<=n?r:J(c,{startingIndex:t,decrement:!0}):Math.max(n,J(c,{startingIndex:t,decrement:!0})),a(k.current)}}return l((()=>{s&&(null!=f&&(k.current=f),r&&R.current&&(I.current(k.current),M(c,k)))}),[r,f,c,I,M,s]),l((()=>{s&&r&&(null!=i?(k.current=i,I.current(k.current),M(c,k)):(k.current=-1,M(c,k)))}),[r,i,f,c,I,M,s,w,u.floating,null==x?void 0:x.nodesRef]),l((()=>{null==f&&s&&(r&&(Z(O.current,E)||R.current&&(" "===O.current||"Enter"===O.current))&&(k.current=function(e,t,n){return Q(t,e===G,n?e===z:e===Y)}(O.current,E,g)?te(c):ee(c),I.current(k.current),M(c,k)),O.current="")}),[r,c,f,I,M,s,E,g]),l((()=>{var e;s&&(!r&&C.current&&null!=f&&(null==(e=u.reference.current)||e.focus()))}),[u.reference,f,r,s]),l((()=>(C.current=!0,()=>{C.current=!1})),[]),l((()=>{var e;s&&(r||("auto"===m&&(R.current=!0),k.current=null!=(e=null!=f?f:i)?e:-1,I.current(null)))}),[r,f,i,s,m,I]),s?{reference:{...p&&r&&{"aria-activedescendant":A},onPointerEnter:P,onPointerDown:P,onKeyDown(e){if(L.current=!0,p&&r)return F(e);"auto"===m&&(R.current=!0),O.current=e.key,v?function(e,t,n){return Q(t,n?e===Y:e===z,e===X)}(e.key,E,g)&&(k.current=ee(c),V(e),o(!0),a(k.current)):(Z(e.key,E)&&(k.current=null==f?$(e.key,E,g)?ee(c):te(c):f,V(e),o(!0),a(k.current)),p&&!r&&F(e))}},floating:{"aria-orientation":"both"===E?void 0:E,...p&&{"aria-activedescendant":A},onKeyDown:F,onPointerMove(){L.current=!1}},item:{onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...h&&{onPointerMove(e){let{currentTarget:t}=e;const n=t;if(n){const e=ne(c).indexOf(n);-1!==e&&a(e)}},onPointerLeave(){var e;L.current||(a(null),p||null==(e=u.floating.current)||e.focus({preventScroll:!0}))}}}}:{}},e.useRole=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=void 0===t?{}:t;const u=g(),c=g(),i={id:u,role:o};return r?"tooltip"===o?{reference:{"aria-describedby":n?u:void 0},floating:i}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o,"aria-controls":n?u:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:c}},floating:{...i,..."menu"===o&&{"aria-labelledby":c}}}:{}},e.useTypeahead=function(e,n){var r;let{open:o,dataRef:u}=e,{listRef:c,activeIndex:i,onMatch:a=(()=>{}),enabled:s=!0,findMatch:f=null,resetMs:d=1e3,ignoreKeys:v=[],selectedIndex:g=null}=void 0===n?{listRef:{current:[]},activeIndex:null}:n;const p=t.useRef(),m=t.useRef(""),y=t.useRef(null!=(r=null!=g?g:i)?r:-1),b=t.useRef(null);function h(e){if(!e.currentTarget.contains(O(e.currentTarget).activeElement))return;m.current.length>0&&(u.current.typing=!0," "===e.key&&V(e));const t=c.current;if(null==t||["Home","End","Escape","Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight",...v].includes(e.key))return;t.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLowerCase())!==(null==(n=e[1])?void 0:n.toLowerCase())}))&&m.current===e.key&&(m.current="",y.current=b.current),m.current+=e.key,clearTimeout(p.current),p.current=setTimeout((()=>{m.current="",y.current=b.current,u.current.typing=!1}),d);const n=y.current,r=[...t.slice((null!=n?n:0)+1),...t.slice(0,(null!=n?n:0)+1)],o=f?f(r,m.current):r.find((e=>0===(null==e?void 0:e.toLowerCase().indexOf(m.current)))),i=o?t.indexOf(o):-1;-1!==i&&(a(i),b.current=i)}return l((()=>{o&&(clearTimeout(p.current),b.current=null,m.current="")}),[o]),l((()=>{var e;o&&""===m.current&&(y.current=null!=(e=null!=g?g:i)?e:-1)}),[o,g,i]),s?{reference:{onKeyDown:h},floating:{onKeyDown:h}}:{}},Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
